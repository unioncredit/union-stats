{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/Users/mathewstokes/Desktop/stats-app/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/mathewstokes/Desktop/stats-app/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mathewstokes/Desktop/stats-app/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/mathewstokes/Desktop/stats-app/components-ui/OverdueAlert.js\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Box, Alert } from \"@unioncredit/ui\";\nimport { PaymentModal, usePaymentModal } from \"components-ui/modals\";\nimport { roundUp } from \"util/numbers\";\nimport useBorrowData from \"hooks/data/useBorrowData\";\nexport function OverdueAlert() {\n  _s();\n\n  var _useBorrowData = useBorrowData(),\n      borrowData = _useBorrowData.data,\n      updateBorrowData = _useBorrowData.mutate;\n\n  var _usePaymentModal = usePaymentModal(),\n      isPaymentModalOpen = _usePaymentModal.isOpen,\n      openPaymentModal = _usePaymentModal.open;\n\n  var _ref = !!borrowData && borrowData,\n      _ref$borrowedRounded = _ref.borrowedRounded,\n      borrowedRounded = _ref$borrowedRounded === void 0 ? 0 : _ref$borrowedRounded,\n      _ref$interest = _ref.interest,\n      interest = _ref$interest === void 0 ? 0 : _ref$interest,\n      _ref$paymentDueDate = _ref.paymentDueDate,\n      paymentDueDate = _ref$paymentDueDate === void 0 ? \"-\" : _ref$paymentDueDate,\n      _ref$isOverdue = _ref.isOverdue,\n      isOverdue = _ref$isOverdue === void 0 ? false : _ref$isOverdue;\n\n  var onComplete = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return updateBorrowData();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onComplete() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  if (!isOverdue) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\" \", /*#__PURE__*/_jsxDEV(Box, {\n      w: \"100%\",\n      maxw: \"445px\",\n      mb: \"24px\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        label: \"Overdue payment of \".concat(roundUp(interest), \" DAI\"),\n        action: {\n          label: \"Make payment\",\n          onClick: openPaymentModal\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), isPaymentModalOpen && /*#__PURE__*/_jsxDEV(PaymentModal, _objectSpread({}, {\n      paymentDueDate: paymentDueDate,\n      balanceOwed: borrowedRounded,\n      interest: interest,\n      onComplete: onComplete\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(OverdueAlert, \"QNe0RfxGc3eXDp6XMEAxEDU5v2s=\", false, function () {\n  return [useBorrowData, usePaymentModal];\n});\n\n_c = OverdueAlert;\n\nvar _c;\n\n$RefreshReg$(_c, \"OverdueAlert\");","map":{"version":3,"sources":["/Users/mathewstokes/Desktop/stats-app/components-ui/OverdueAlert.js"],"names":["Box","Alert","PaymentModal","usePaymentModal","roundUp","useBorrowData","OverdueAlert","borrowData","data","updateBorrowData","mutate","isPaymentModalOpen","isOpen","openPaymentModal","open","borrowedRounded","interest","paymentDueDate","isOverdue","onComplete","label","onClick","balanceOwed"],"mappings":";;;;;;;;;;;;;AAAA,SAASA,GAAT,EAAcC,KAAd,QAA2B,iBAA3B;AACA,SAASC,YAAT,EAAuBC,eAAvB,QAA8C,sBAA9C;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AAEA,OAAO,SAASC,YAAT,GAAwB;AAAA;;AAAA,uBAC0BD,aAAa,EADvC;AAAA,MACfE,UADe,kBACrBC,IADqB;AAAA,MACKC,gBADL,kBACHC,MADG;;AAAA,yBAG3BP,eAAe,EAHY;AAAA,MAEbQ,kBAFa,oBAErBC,MAFqB;AAAA,MAEaC,gBAFb,oBAEOC,IAFP;;AAAA,aAUzB,CAAC,CAACP,UAAF,IAAgBA,UAVS;AAAA,kCAM3BQ,eAN2B;AAAA,MAM3BA,eAN2B,qCAMT,CANS;AAAA,2BAO3BC,QAP2B;AAAA,MAO3BA,QAP2B,8BAOhB,CAPgB;AAAA,iCAQ3BC,cAR2B;AAAA,MAQ3BA,cAR2B,oCAQV,GARU;AAAA,4BAS3BC,SAT2B;AAAA,MAS3BA,SAT2B,+BASf,KATe;;AAY7B,MAAMC,UAAU;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACXV,gBAAgB,EADL;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVU,UAAU;AAAA;AAAA;AAAA,KAAhB;;AAIA,MAAI,CAACD,SAAL,EAAgB;AACd,WAAO,IAAP;AACD;;AAED,sBACE;AAAA,eACG,GADH,eAEE,QAAC,GAAD;AAAK,MAAA,CAAC,EAAC,MAAP;AAAc,MAAA,IAAI,EAAC,OAAnB;AAA2B,MAAA,EAAE,EAAC,MAA9B;AAAA,6BACE,QAAC,KAAD;AACE,QAAA,KAAK,+BAAwBd,OAAO,CAACY,QAAD,CAA/B,SADP;AAEE,QAAA,MAAM,EAAE;AAAEI,UAAAA,KAAK,EAAE,cAAT;AAAyBC,UAAAA,OAAO,EAAER;AAAlC;AAFV;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFF,EAQGF,kBAAkB,iBACjB,QAAC,YAAD,oBACM;AACFM,MAAAA,cAAc,EAAdA,cADE;AAEFK,MAAAA,WAAW,EAAEP,eAFX;AAGFC,MAAAA,QAAQ,EAARA,QAHE;AAIFG,MAAAA,UAAU,EAAVA;AAJE,KADN;AAAA;AAAA;AAAA;AAAA,YATJ;AAAA,kBADF;AAqBD;;GAzCeb,Y;UACyCD,a,EAErDF,e;;;KAHYG,Y","sourcesContent":["import { Box, Alert } from \"@unioncredit/ui\";\nimport { PaymentModal, usePaymentModal } from \"components-ui/modals\";\nimport { roundUp } from \"util/numbers\";\nimport useBorrowData from \"hooks/data/useBorrowData\";\n\nexport function OverdueAlert() {\n  const { data: borrowData, mutate: updateBorrowData } = useBorrowData();\n  const { isOpen: isPaymentModalOpen, open: openPaymentModal } =\n    usePaymentModal();\n\n  const {\n    borrowedRounded = 0,\n    interest = 0,\n    paymentDueDate = \"-\",\n    isOverdue = false,\n  } = !!borrowData && borrowData;\n\n  const onComplete = async () => {\n    await updateBorrowData();\n  };\n\n  if (!isOverdue) {\n    return null;\n  }\n\n  return (\n    <>\n      {\" \"}\n      <Box w=\"100%\" maxw=\"445px\" mb=\"24px\">\n        <Alert\n          label={`Overdue payment of ${roundUp(interest)} DAI`}\n          action={{ label: \"Make payment\", onClick: openPaymentModal }}\n        />\n      </Box>\n      {isPaymentModalOpen && (\n        <PaymentModal\n          {...{\n            paymentDueDate,\n            balanceOwed: borrowedRounded,\n            interest,\n            onComplete,\n          }}\n        />\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}