{"ast":null,"code":"import { formatUnits } from \"@ethersproject/units\";\nimport useAssetContract from \"hooks/contracts/useAssetContract\";\nimport useCurrentToken from \"hooks/useCurrentToken\";\nimport useSWR from \"swr\";\n\nconst getLoanableAmount = contract => async (_, tokenAddress) => {\n  const res = await contract.getLoanableAmount(tokenAddress);\n  return Number(formatUnits(res, 18));\n};\n\nexport default function useLoanableAmount() {\n  const assetContract = useAssetContract();\n  const DAI = useCurrentToken();\n  const shouldFetch = !!assetContract && typeof DAI === \"string\";\n  return useSWR(shouldFetch ? [\"LoanableAmount\", DAI] : null, getLoanableAmount(assetContract));\n}","map":{"version":3,"sources":["/Users/mathewstokes/Desktop/stats-app/hooks/data/useLoanableAmount.ts"],"names":["formatUnits","useAssetContract","useCurrentToken","useSWR","getLoanableAmount","contract","_","tokenAddress","res","Number","useLoanableAmount","assetContract","DAI","shouldFetch"],"mappings":"AACA,SAASA,WAAT,QAA4B,sBAA5B;AACA,OAAOC,gBAAP,MAA6B,kCAA7B;AACA,OAAOC,eAAP,MAA4B,uBAA5B;AACA,OAAOC,MAAP,MAAmB,KAAnB;;AAEA,MAAMC,iBAAiB,GACpBC,QAAD,IAAwB,OAAOC,CAAP,EAAeC,YAAf,KAAwC;AAC9D,QAAMC,GAAG,GAAG,MAAMH,QAAQ,CAACD,iBAAT,CAA2BG,YAA3B,CAAlB;AAEA,SAAOE,MAAM,CAACT,WAAW,CAACQ,GAAD,EAAM,EAAN,CAAZ,CAAb;AACD,CALH;;AAOA,eAAe,SAASE,iBAAT,GAA6B;AAC1C,QAAMC,aAAa,GAAGV,gBAAgB,EAAtC;AACA,QAAMW,GAAG,GAAGV,eAAe,EAA3B;AAEA,QAAMW,WAAW,GAAG,CAAC,CAACF,aAAF,IAAmB,OAAOC,GAAP,KAAe,QAAtD;AAEA,SAAOT,MAAM,CACXU,WAAW,GAAG,CAAC,gBAAD,EAAmBD,GAAnB,CAAH,GAA6B,IAD7B,EAEXR,iBAAiB,CAACO,aAAD,CAFN,CAAb;AAID","sourcesContent":["import type { Contract } from \"@ethersproject/contracts\";\nimport { formatUnits } from \"@ethersproject/units\";\nimport useAssetContract from \"hooks/contracts/useAssetContract\";\nimport useCurrentToken from \"hooks/useCurrentToken\";\nimport useSWR from \"swr\";\n\nconst getLoanableAmount =\n  (contract: Contract) => async (_: any, tokenAddress: string) => {\n    const res = await contract.getLoanableAmount(tokenAddress);\n\n    return Number(formatUnits(res, 18));\n  };\n\nexport default function useLoanableAmount() {\n  const assetContract = useAssetContract();\n  const DAI = useCurrentToken();\n\n  const shouldFetch = !!assetContract && typeof DAI === \"string\";\n\n  return useSWR(\n    shouldFetch ? [\"LoanableAmount\", DAI] : null,\n    getLoanableAmount(assetContract)\n  );\n}\n"]},"metadata":{},"sourceType":"module"}