{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mathewstokes/Desktop/stats-app/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/mathewstokes/Desktop/stats-app/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/mathewstokes/Desktop/stats-app/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport useSWR from \"swr\";\nimport useChainId from \"hooks/useChainId\";\nimport fetchUserTransactions from \"fetchers/fetchUserTransactions\";\nimport fetchUTokenTransactions from \"fetchers/fetchUTokenTransactions\";\nimport fetchRegisterTransactions from \"fetchers/fetchRegisterTransactions\";\n\nfunction fetchData(_x, _x2, _x3, _x4, _x5) {\n  return _fetchData.apply(this, arguments);\n}\n\nfunction _fetchData() {\n  _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_, chainId, account, staker, borrower) {\n    var registerTransactions, utokenTransactions, userTransactions;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetchRegisterTransactions(chainId, account);\n\n          case 2:\n            registerTransactions = _context.sent;\n            _context.next = 5;\n            return fetchUTokenTransactions(chainId, account);\n\n          case 5:\n            utokenTransactions = _context.sent;\n            _context.next = 8;\n            return fetchUserTransactions(chainId, staker, borrower);\n\n          case 8:\n            userTransactions = _context.sent;\n            return _context.abrupt(\"return\", [].concat(_toConsumableArray(registerTransactions), _toConsumableArray(utokenTransactions), _toConsumableArray(userTransactions)).sort(function (a, b) {\n              return Number(b.timestamp) - Number(a.timestamp);\n            }));\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _fetchData.apply(this, arguments);\n}\n\nexport default function useRelatedHistory(account, staker, borrower) {\n  _s();\n\n  var chainId = useChainId();\n  var shouldFetch = chainId;\n  return useSWR(shouldFetch ? [\"EventLogsData\", chainId, account, staker, borrower] : null, fetchData, {\n    shouldRetryOnError: false,\n    refreshWhenHidden: false,\n    refreshWhenOffline: false,\n    revalidateOnFocus: false,\n    revalidateOnReconnect: false\n  });\n}\n\n_s(useRelatedHistory, \"uZ58AYHOyJ44AvP6Y10ANwGzLxg=\", false, function () {\n  return [useChainId, useSWR];\n});","map":{"version":3,"sources":["/Users/mathewstokes/Desktop/stats-app/hooks/data/useRelatedHistory.js"],"names":["useSWR","useChainId","fetchUserTransactions","fetchUTokenTransactions","fetchRegisterTransactions","fetchData","_","chainId","account","staker","borrower","registerTransactions","utokenTransactions","userTransactions","sort","a","b","Number","timestamp","useRelatedHistory","shouldFetch","shouldRetryOnError","refreshWhenHidden","refreshWhenOffline","revalidateOnFocus","revalidateOnReconnect"],"mappings":";;;;;;AAAA,OAAOA,MAAP,MAAmB,KAAnB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,qBAAP,MAAkC,gCAAlC;AACA,OAAOC,uBAAP,MAAoC,kCAApC;AACA,OAAOC,yBAAP,MAAsC,oCAAtC;;SAEeC,S;;;;;wEAAf,iBAAyBC,CAAzB,EAA4BC,OAA5B,EAAqCC,OAArC,EAA8CC,MAA9C,EAAsDC,QAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACqCN,yBAAyB,CAC1DG,OAD0D,EAE1DC,OAF0D,CAD9D;;AAAA;AACQG,YAAAA,oBADR;AAAA;AAAA,mBAKmCR,uBAAuB,CAACI,OAAD,EAAUC,OAAV,CAL1D;;AAAA;AAKQI,YAAAA,kBALR;AAAA;AAAA,mBAMiCV,qBAAqB,CAClDK,OADkD,EAElDE,MAFkD,EAGlDC,QAHkD,CANtD;;AAAA;AAMQG,YAAAA,gBANR;AAAA,6CAYS,6BACFF,oBADE,sBAEFC,kBAFE,sBAGFC,gBAHE,GAILC,IAJK,CAIA,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACf,qBAAOC,MAAM,CAACD,CAAC,CAACE,SAAH,CAAN,GAAsBD,MAAM,CAACF,CAAC,CAACG,SAAH,CAAnC;AACD,aANM,CAZT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAqBA,eAAe,SAASC,iBAAT,CAA2BX,OAA3B,EAAoCC,MAApC,EAA4CC,QAA5C,EAAsD;AAAA;;AACnE,MAAMH,OAAO,GAAGN,UAAU,EAA1B;AAEA,MAAMmB,WAAW,GAAGb,OAApB;AAEA,SAAOP,MAAM,CACXoB,WAAW,GAAG,CAAC,eAAD,EAAkBb,OAAlB,EAA2BC,OAA3B,EAAoCC,MAApC,EAA4CC,QAA5C,CAAH,GAA2D,IAD3D,EAEXL,SAFW,EAGX;AACEgB,IAAAA,kBAAkB,EAAE,KADtB;AAEEC,IAAAA,iBAAiB,EAAE,KAFrB;AAGEC,IAAAA,kBAAkB,EAAE,KAHtB;AAIEC,IAAAA,iBAAiB,EAAE,KAJrB;AAKEC,IAAAA,qBAAqB,EAAE;AALzB,GAHW,CAAb;AAWD;;GAhBuBN,iB;UACNlB,U,EAITD,M","sourcesContent":["import useSWR from \"swr\";\nimport useChainId from \"hooks/useChainId\";\nimport fetchUserTransactions from \"fetchers/fetchUserTransactions\";\nimport fetchUTokenTransactions from \"fetchers/fetchUTokenTransactions\";\nimport fetchRegisterTransactions from \"fetchers/fetchRegisterTransactions\";\n\nasync function fetchData(_, chainId, account, staker, borrower) {\n  const registerTransactions = await fetchRegisterTransactions(\n    chainId,\n    account\n  );\n  const utokenTransactions = await fetchUTokenTransactions(chainId, account);\n  const userTransactions = await fetchUserTransactions(\n    chainId,\n    staker,\n    borrower\n  );\n\n  return [\n    ...registerTransactions,\n    ...utokenTransactions,\n    ...userTransactions,\n  ].sort((a, b) => {\n    return Number(b.timestamp) - Number(a.timestamp);\n  });\n}\n\nexport default function useRelatedHistory(account, staker, borrower) {\n  const chainId = useChainId();\n\n  const shouldFetch = chainId;\n\n  return useSWR(\n    shouldFetch ? [\"EventLogsData\", chainId, account, staker, borrower] : null,\n    fetchData,\n    {\n      shouldRetryOnError: false,\n      refreshWhenHidden: false,\n      refreshWhenOffline: false,\n      revalidateOnFocus: false,\n      revalidateOnReconnect: false,\n    }\n  );\n}\n"]},"metadata":{},"sourceType":"module"}