{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mathewstokes/Desktop/stats-app/components-ui/UserVotingOverview.js\";\nimport { Box, Badge, Heading, Card, Button, Stat, Grid, Tooltip, Label } from \"@unioncredit/ui\";\nimport TooltipIcon from \"@unioncredit/ui/lib/icons/tooltip.svg\";\nimport Link from \"next/link\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport External from \"@unioncredit/ui/lib/icons/externalinline.svg\";\nimport { useVoteDelegationModal, VoteDelegationModal } from \"components-ui/modals\";\nimport format from \"util/formatValue\";\nimport usePublicData from \"hooks/usePublicData\";\nimport truncateAddress from \"util/truncateAddress\";\nimport { Avatar, Copyable } from \"components-ui\";\nimport useVotingWalletData from \"hooks/governance/useVotingWalletData\";\nexport function UserVotingOverview({\n  address\n}) {\n  const {\n    account\n  } = useWeb3React();\n  const {\n    ENSName,\n    BoxName\n  } = usePublicData(account);\n  const {\n    isOpen: isVoteDelegationOpen,\n    open: openVoteDelegationModal\n  } = useVoteDelegationModal();\n  const {\n    data: votingWalletData\n  } = useVotingWalletData(address);\n  const {\n    balanceOf = 0,\n    currentVotes = 0,\n    delegates\n  } = !!votingWalletData && votingWalletData;\n  const {\n    ENSName: delegatesENS,\n    name: delegatesName\n  } = usePublicData(delegates);\n  const isVotingConfigured = Number(delegates) !== 0;\n  const isDelegatingToSelf = delegates === address;\n  const votesDelegated = isDelegatingToSelf ? currentVotes - balanceOf : currentVotes;\n\n  const truncatedAddress = /*#__PURE__*/_jsxDEV(Copyable, {\n    value: address,\n    children: truncateAddress(address)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n\n  const [label1] = [ENSName || BoxName, truncatedAddress].filter(Boolean);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          children: [/*#__PURE__*/_jsxDEV(Grid.Row, {\n            children: /*#__PURE__*/_jsxDEV(Grid.Col, {\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                align: \"center\",\n                mb: \"24px\",\n                children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                  size: 54,\n                  address: account\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  direction: \"vertical\",\n                  mx: \"16px\",\n                  children: [/*#__PURE__*/_jsxDEV(Heading, {\n                    level: 2,\n                    mb: \"4px\",\n                    children: label1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                    color: \"grey\",\n                    label: /*#__PURE__*/_jsxDEV(Copyable, {\n                      value: address,\n                      children: address.slice(0, 6)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 74,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 71,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid.Row, {\n            children: [/*#__PURE__*/_jsxDEV(Grid.Col, {\n              children: /*#__PURE__*/_jsxDEV(Stat, {\n                label: \"Total Votes\",\n                value: format(currentVotes)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid.Col, {\n              children: /*#__PURE__*/_jsxDEV(Stat, {\n                label: \"Union Balance\",\n                value: format(balanceOf)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid.Col, {\n              children: /*#__PURE__*/_jsxDEV(Stat, {\n                label: /*#__PURE__*/_jsxDEV(Label, {\n                  size: \"small\",\n                  weight: \"medium\",\n                  children: [\"From others\", \" \", /*#__PURE__*/_jsxDEV(Tooltip, {\n                    content: \"If other users delegate their votes to you, they\\u2019ll appear here.\",\n                    children: /*#__PURE__*/_jsxDEV(TooltipIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 21\n                }, this),\n                value: format(votesDelegated)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid.Row, {\n            children: [/*#__PURE__*/_jsxDEV(Grid.Col, {\n              children: /*#__PURE__*/_jsxDEV(Stat, {\n                mt: \"28px\",\n                label: \"DELEGATING TO\",\n                value: !isVotingConfigured ? \"Not configured\" : isDelegatingToSelf ? \"Self\" : /*#__PURE__*/_jsxDEV(Link, {\n                  href: `/profile/${delegates}`,\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    children: [delegatesENS || delegatesName, \" \", /*#__PURE__*/_jsxDEV(External, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 59\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid.Col, {\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                ml: \"auto\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  mt: \"28px\",\n                  variant: \"secondary\",\n                  label: isVotingConfigured ? \"Delegate votes\" : \"Set up voting\",\n                  onClick: openVoteDelegationModal\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), isVoteDelegationOpen && /*#__PURE__*/_jsxDEV(VoteDelegationModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 32\n    }, this)]\n  }, void 0, true);\n}","map":{"version":3,"sources":["/Users/mathewstokes/Desktop/stats-app/components-ui/UserVotingOverview.js"],"names":["Box","Badge","Heading","Card","Button","Stat","Grid","Tooltip","Label","TooltipIcon","Link","useWeb3React","External","useVoteDelegationModal","VoteDelegationModal","format","usePublicData","truncateAddress","Avatar","Copyable","useVotingWalletData","UserVotingOverview","address","account","ENSName","BoxName","isOpen","isVoteDelegationOpen","open","openVoteDelegationModal","data","votingWalletData","balanceOf","currentVotes","delegates","delegatesENS","name","delegatesName","isVotingConfigured","Number","isDelegatingToSelf","votesDelegated","truncatedAddress","label1","filter","Boolean","slice"],"mappings":"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","sourcesContent":["import {\n  Box,\n  Badge,\n  Heading,\n  Card,\n  Button,\n  Stat,\n  Grid,\n  Tooltip,\n  Label,\n} from \"@unioncredit/ui\";\nimport TooltipIcon from \"@unioncredit/ui/lib/icons/tooltip.svg\";\nimport Link from \"next/link\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport External from \"@unioncredit/ui/lib/icons/externalinline.svg\";\nimport {\n  useVoteDelegationModal,\n  VoteDelegationModal,\n} from \"components-ui/modals\";\nimport format from \"util/formatValue\";\nimport usePublicData from \"hooks/usePublicData\";\nimport truncateAddress from \"util/truncateAddress\";\nimport { Avatar, Copyable } from \"components-ui\";\nimport useVotingWalletData from \"hooks/governance/useVotingWalletData\";\n\nexport function UserVotingOverview({ address }) {\n  const { account } = useWeb3React();\n  const { ENSName, BoxName } = usePublicData(account);\n\n  const { isOpen: isVoteDelegationOpen, open: openVoteDelegationModal } =\n    useVoteDelegationModal();\n\n  const { data: votingWalletData } = useVotingWalletData(address);\n\n  const {\n    balanceOf = 0,\n    currentVotes = 0,\n    delegates,\n  } = !!votingWalletData && votingWalletData;\n\n  const { ENSName: delegatesENS, name: delegatesName } =\n    usePublicData(delegates);\n\n  const isVotingConfigured = Number(delegates) !== 0;\n\n  const isDelegatingToSelf = delegates === address;\n\n  const votesDelegated = isDelegatingToSelf\n    ? currentVotes - balanceOf\n    : currentVotes;\n\n  const truncatedAddress = (\n    <Copyable value={address}>{truncateAddress(address)}</Copyable>\n  );\n\n  const [label1] = [ENSName || BoxName, truncatedAddress].filter(Boolean);\n\n  return (\n    <>\n      <Card>\n        <Card.Body>\n          <Grid>\n            <Grid.Row>\n              <Grid.Col xs={12}>\n                <Box align=\"center\" mb=\"24px\">\n                  <Avatar size={54} address={account} />\n                  <Box direction=\"vertical\" mx=\"16px\">\n                    <Heading level={2} mb=\"4px\">\n                      {label1}\n                    </Heading>\n                    <Badge\n                      color=\"grey\"\n                      label={\n                        <Copyable value={address}>\n                          {address.slice(0, 6)}\n                        </Copyable>\n                      }\n                    />\n                  </Box>\n                </Box>\n              </Grid.Col>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Col>\n                <Stat label=\"Total Votes\" value={format(currentVotes)} />\n              </Grid.Col>\n              <Grid.Col>\n                <Stat label=\"Union Balance\" value={format(balanceOf)} />\n              </Grid.Col>\n              <Grid.Col>\n                <Stat\n                  label={\n                    <Label size=\"small\" weight=\"medium\">\n                      From others{\" \"}\n                      <Tooltip content=\"If other users delegate their votes to you, they’ll appear here.\">\n                        <TooltipIcon />\n                      </Tooltip>\n                    </Label>\n                  }\n                  value={format(votesDelegated)}\n                />\n              </Grid.Col>\n            </Grid.Row>\n            <Grid.Row>\n              <Grid.Col>\n                <Stat\n                  mt=\"28px\"\n                  label=\"DELEGATING TO\"\n                  value={\n                    !isVotingConfigured ? (\n                      \"Not configured\"\n                    ) : isDelegatingToSelf ? (\n                      \"Self\"\n                    ) : (\n                      <Link href={`/profile/${delegates}`}>\n                        <a>\n                          {delegatesENS || delegatesName} <External />\n                        </a>\n                      </Link>\n                    )\n                  }\n                />\n              </Grid.Col>\n              <Grid.Col>\n                <Box ml=\"auto\">\n                  <Button\n                    mt=\"28px\"\n                    variant=\"secondary\"\n                    label={\n                      isVotingConfigured ? \"Delegate votes\" : \"Set up voting\"\n                    }\n                    onClick={openVoteDelegationModal}\n                  />\n                </Box>\n              </Grid.Col>\n            </Grid.Row>\n          </Grid>\n        </Card.Body>\n      </Card>\n      {isVoteDelegationOpen && <VoteDelegationModal />}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}