{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/mathewstokes/Desktop/stats-app/components-ui/EditLabel.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useRef, useCallback } from \"react\";\nimport { Box, Label, Text, Button } from \"@unioncredit/ui\";\nimport useAddressLabels from \"hooks/useAddressLabels\";\nimport setEndOfContentEditable from \"util/setEndOfContentEditable\";\nexport function EditLabel(_ref) {\n  _s();\n\n  var address = _ref.address;\n  var labelEl = useRef(null);\n\n  var _useState = useState(false),\n      editting = _useState[0],\n      setEditting = _useState[1];\n\n  var _useAddressLabels = useAddressLabels(),\n      getLabel = _useAddressLabels.getLabel,\n      setLabel = _useAddressLabels.setLabel;\n\n  var label = getLabel(address);\n  var handleSave = useCallback(function () {\n    var label = labelEl.current.innerText;\n    setLabel(address, label);\n    setEditting(false);\n    document.removeEventListener(\"keydown\", ignoreEnterKey);\n  }, [setLabel, setEditting]);\n  var ignoreEnterKey = useCallback(function (event) {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n      handleSave();\n      return;\n    }\n  }, [handleSave]);\n\n  var handleEdit = function handleEdit() {\n    setEditting(true);\n    setTimeout(function () {\n      setEndOfContentEditable(labelEl.current);\n    }, 0);\n    document.addEventListener(\"keydown\", ignoreEnterKey);\n  };\n\n  var handleCancel = function handleCancel() {\n    setEditting(false);\n    labelEl.current.textContent = label;\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    fluid: true,\n    justify: \"space-between\",\n    align: \"center\",\n    mb: \"12px\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      direction: \"vertical\",\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        size: \"small\",\n        grey: 400,\n        as: \"p\",\n        m: 0,\n        children: \"CONTACT NAME\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        mb: 0,\n        size: \"large\",\n        contentEditable: editting,\n        ref: labelEl,\n        className: \"editable-name\",\n        children: label || \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: editting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"pill\",\n          color: \"blue\",\n          label: \"Save\",\n          onClick: handleSave\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          ml: \"4px\",\n          variant: \"pill\",\n          label: \"Cancel\",\n          onClick: handleCancel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"pill\",\n        label: \"Edit alias\",\n        onClick: handleEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditLabel, \"8USlqCWXqMHSI0nbLKum9U3JWdY=\", false, function () {\n  return [useAddressLabels];\n});\n\n_c = EditLabel;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditLabel\");","map":{"version":3,"sources":["/Users/mathewstokes/Desktop/stats-app/components-ui/EditLabel.js"],"names":["useState","useRef","useCallback","Box","Label","Text","Button","useAddressLabels","setEndOfContentEditable","EditLabel","address","labelEl","editting","setEditting","getLabel","setLabel","label","handleSave","current","innerText","document","removeEventListener","ignoreEnterKey","event","key","preventDefault","handleEdit","setTimeout","addEventListener","handleCancel","textContent"],"mappings":"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","sourcesContent":["import { useState, useRef, useCallback } from \"react\";\nimport { Box, Label, Text, Button } from \"@unioncredit/ui\";\nimport useAddressLabels from \"hooks/useAddressLabels\";\nimport setEndOfContentEditable from \"util/setEndOfContentEditable\";\n\nexport function EditLabel({ address }) {\n  const labelEl = useRef(null);\n  const [editting, setEditting] = useState(false);\n  const { getLabel, setLabel } = useAddressLabels();\n\n  const label = getLabel(address);\n\n  const handleSave = useCallback(() => {\n    const label = labelEl.current.innerText;\n    setLabel(address, label);\n    setEditting(false);\n    document.removeEventListener(\"keydown\", ignoreEnterKey);\n  }, [setLabel, setEditting]);\n\n  const ignoreEnterKey = useCallback(\n    (event) => {\n      if (event.key === \"Enter\") {\n        event.preventDefault();\n        handleSave();\n        return;\n      }\n    },\n    [handleSave]\n  );\n\n  const handleEdit = () => {\n    setEditting(true);\n    setTimeout(() => {\n      setEndOfContentEditable(labelEl.current);\n    }, 0);\n    document.addEventListener(\"keydown\", ignoreEnterKey);\n  };\n\n  const handleCancel = () => {\n    setEditting(false);\n    labelEl.current.textContent = label;\n  };\n\n  return (\n    <Box fluid justify=\"space-between\" align=\"center\" mb=\"12px\">\n      <Box direction=\"vertical\">\n        <Label size=\"small\" grey={400} as=\"p\" m={0}>\n          CONTACT NAME\n        </Label>\n        <Text\n          mb={0}\n          size=\"large\"\n          contentEditable={editting}\n          ref={labelEl}\n          className=\"editable-name\"\n        >\n          {label || \"\"}\n        </Text>\n      </Box>\n      <Box>\n        {editting ? (\n          <>\n            <Button\n              variant=\"pill\"\n              color=\"blue\"\n              label=\"Save\"\n              onClick={handleSave}\n            />\n            <Button\n              ml=\"4px\"\n              variant=\"pill\"\n              label=\"Cancel\"\n              onClick={handleCancel}\n            />\n          </>\n        ) : (\n          <Button variant=\"pill\" label=\"Edit alias\" onClick={handleEdit} />\n        )}\n      </Box>\n    </Box>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}