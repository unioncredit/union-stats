{"ast":null,"code":"import useSWR from \"swr\";\nimport useChainId from \"hooks/useChainId\";\nimport fetchUserTransactions from \"fetchers/fetchUserTransactions\";\nimport fetchUTokenTransactions from \"fetchers/fetchUTokenTransactions\";\nimport fetchRegisterTransactions from \"fetchers/fetchRegisterTransactions\";\n\nasync function fetchData(_, chainId, account, staker, borrower) {\n  const registerTransactions = await fetchRegisterTransactions(chainId, account);\n  const utokenTransactions = await fetchUTokenTransactions(chainId, account);\n  const userTransactions = await fetchUserTransactions(chainId, staker, borrower);\n  return [...registerTransactions, ...utokenTransactions, ...userTransactions].sort((a, b) => {\n    return Number(b.timestamp) - Number(a.timestamp);\n  });\n}\n\nexport default function useRelatedHistory(account, staker, borrower) {\n  const chainId = useChainId();\n  const shouldFetch = chainId;\n  return useSWR(shouldFetch ? [\"EventLogsData\", chainId, account, staker, borrower] : null, fetchData, {\n    shouldRetryOnError: false,\n    refreshWhenHidden: false,\n    refreshWhenOffline: false,\n    revalidateOnFocus: false,\n    revalidateOnReconnect: false\n  });\n}","map":{"version":3,"sources":["/Users/mathewstokes/Desktop/stats-app/hooks/data/useRelatedHistory.js"],"names":["useSWR","useChainId","fetchUserTransactions","fetchUTokenTransactions","fetchRegisterTransactions","fetchData","_","chainId","account","staker","borrower","registerTransactions","utokenTransactions","userTransactions","sort","a","b","Number","timestamp","useRelatedHistory","shouldFetch","shouldRetryOnError","refreshWhenHidden","refreshWhenOffline","revalidateOnFocus","revalidateOnReconnect"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,KAAnB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,qBAAP,MAAkC,gCAAlC;AACA,OAAOC,uBAAP,MAAoC,kCAApC;AACA,OAAOC,yBAAP,MAAsC,oCAAtC;;AAEA,eAAeC,SAAf,CAAyBC,CAAzB,EAA4BC,OAA5B,EAAqCC,OAArC,EAA8CC,MAA9C,EAAsDC,QAAtD,EAAgE;AAC9D,QAAMC,oBAAoB,GAAG,MAAMP,yBAAyB,CAC1DG,OAD0D,EAE1DC,OAF0D,CAA5D;AAIA,QAAMI,kBAAkB,GAAG,MAAMT,uBAAuB,CAACI,OAAD,EAAUC,OAAV,CAAxD;AACA,QAAMK,gBAAgB,GAAG,MAAMX,qBAAqB,CAClDK,OADkD,EAElDE,MAFkD,EAGlDC,QAHkD,CAApD;AAMA,SAAO,CACL,GAAGC,oBADE,EAEL,GAAGC,kBAFE,EAGL,GAAGC,gBAHE,EAILC,IAJK,CAIA,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACf,WAAOC,MAAM,CAACD,CAAC,CAACE,SAAH,CAAN,GAAsBD,MAAM,CAACF,CAAC,CAACG,SAAH,CAAnC;AACD,GANM,CAAP;AAOD;;AAED,eAAe,SAASC,iBAAT,CAA2BX,OAA3B,EAAoCC,MAApC,EAA4CC,QAA5C,EAAsD;AACnE,QAAMH,OAAO,GAAGN,UAAU,EAA1B;AAEA,QAAMmB,WAAW,GAAGb,OAApB;AAEA,SAAOP,MAAM,CACXoB,WAAW,GAAG,CAAC,eAAD,EAAkBb,OAAlB,EAA2BC,OAA3B,EAAoCC,MAApC,EAA4CC,QAA5C,CAAH,GAA2D,IAD3D,EAEXL,SAFW,EAGX;AACEgB,IAAAA,kBAAkB,EAAE,KADtB;AAEEC,IAAAA,iBAAiB,EAAE,KAFrB;AAGEC,IAAAA,kBAAkB,EAAE,KAHtB;AAIEC,IAAAA,iBAAiB,EAAE,KAJrB;AAKEC,IAAAA,qBAAqB,EAAE;AALzB,GAHW,CAAb;AAWD","sourcesContent":["import useSWR from \"swr\";\nimport useChainId from \"hooks/useChainId\";\nimport fetchUserTransactions from \"fetchers/fetchUserTransactions\";\nimport fetchUTokenTransactions from \"fetchers/fetchUTokenTransactions\";\nimport fetchRegisterTransactions from \"fetchers/fetchRegisterTransactions\";\n\nasync function fetchData(_, chainId, account, staker, borrower) {\n  const registerTransactions = await fetchRegisterTransactions(\n    chainId,\n    account\n  );\n  const utokenTransactions = await fetchUTokenTransactions(chainId, account);\n  const userTransactions = await fetchUserTransactions(\n    chainId,\n    staker,\n    borrower\n  );\n\n  return [\n    ...registerTransactions,\n    ...utokenTransactions,\n    ...userTransactions,\n  ].sort((a, b) => {\n    return Number(b.timestamp) - Number(a.timestamp);\n  });\n}\n\nexport default function useRelatedHistory(account, staker, borrower) {\n  const chainId = useChainId();\n\n  const shouldFetch = chainId;\n\n  return useSWR(\n    shouldFetch ? [\"EventLogsData\", chainId, account, staker, borrower] : null,\n    fetchData,\n    {\n      shouldRetryOnError: false,\n      refreshWhenHidden: false,\n      refreshWhenOffline: false,\n      revalidateOnFocus: false,\n      revalidateOnReconnect: false,\n    }\n  );\n}\n"]},"metadata":{},"sourceType":"module"}