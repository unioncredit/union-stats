{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/Users/mathewstokes/Desktop/stats-app/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/mathewstokes/Desktop/stats-app/components-ui/TransactionHistory.js\",\n    _icons,\n    _texts,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Text, Table, TableCell, TableRow, Label, Box, Skeleton, Pagination, EmptyState } from \"@unioncredit/ui\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { Dai } from \"components-ui\";\nimport usePagination from \"hooks/usePagination\";\nimport createArray from \"util/createArray\";\nimport format from \"util/formatValue\";\nimport formatDateTime from \"util/formatDateTime\";\nimport truncateName from \"util/truncateName\";\nimport Borrow from \"@unioncredit/ui/lib/icons/borrow.svg\";\nimport Repayment from \"@unioncredit/ui/lib/icons/repayment.svg\";\nimport NewMember from \"@unioncredit/ui/lib/icons/newMember.svg\";\nimport NewVouch from \"@unioncredit/ui/lib/icons/newVouch.svg\";\nimport NewVouchRecieved from \"@unioncredit/ui/lib/icons/newVouchRecieved.svg\";\nimport CancelledVouch from \"@unioncredit/ui/lib/icons/cancelVouch.svg\";\nimport { TransactionTypes } from \"constants/app\";\nimport usePublicData from \"hooks/usePublicData\";\nvar icons = (_icons = {}, _defineProperty(_icons, TransactionTypes.CANCEL, CancelledVouch), _defineProperty(_icons, TransactionTypes.BORROW, Borrow), _defineProperty(_icons, TransactionTypes.REPAY, Repayment), _defineProperty(_icons, TransactionTypes.TRUST, NewVouch), _defineProperty(_icons, TransactionTypes.TRUSTED, NewVouchRecieved), _defineProperty(_icons, TransactionTypes.REGISTER, NewMember), _icons);\nvar texts = (_texts = {}, _defineProperty(_texts, TransactionTypes.CANCEL, function (_ref) {\n  var borrowerName = _ref.borrowerName;\n  return \"Cancelled \".concat(borrowerName);\n}), _defineProperty(_texts, TransactionTypes.BORROW, function () {\n  return \"Borrow\";\n}), _defineProperty(_texts, TransactionTypes.REPAY, function () {\n  return \"Repayment\";\n}), _defineProperty(_texts, TransactionTypes.TRUST, function (_ref2) {\n  var borrowerName = _ref2.borrowerName;\n  return \"Trusted \".concat(borrowerName);\n}), _defineProperty(_texts, TransactionTypes.TRUSTED, function (_ref3) {\n  var stakerName = _ref3.stakerName;\n  return \"Trusted by \".concat(stakerName);\n}), _defineProperty(_texts, TransactionTypes.REGISTER, function () {\n  return \"Became a member\";\n}), _texts);\n\nvar parseName = function parseName(account, address, ENSName) {\n  return (account === null || account === void 0 ? void 0 : account.toLowerCase()) === (address === null || address === void 0 ? void 0 : address.toLowerCase()) ? \"You\" : ENSName || (address === null || address === void 0 ? void 0 : address.slice(0, 6));\n};\n\nfunction TransactionHistoryRow(_ref4) {\n  _s();\n\n  var _texts$type;\n\n  var amount = _ref4.amount,\n      type = _ref4.type,\n      timestamp = _ref4.timestamp,\n      borrower = _ref4.borrower,\n      staker = _ref4.staker;\n\n  var _useWeb3React = useWeb3React(),\n      account = _useWeb3React.account;\n\n  var _usePublicData = usePublicData(borrower),\n      borrowerENS = _usePublicData.ENSName;\n\n  var _usePublicData2 = usePublicData(staker),\n      stakerENS = _usePublicData2.ENSName;\n\n  var borrowerName = parseName(account, borrower, borrowerENS);\n  var stakerName = parseName(account, staker, stakerENS);\n  var Icon = icons[type];\n  var text = (_texts$type = texts[type]) === null || _texts$type === void 0 ? void 0 : _texts$type.call(texts, {\n    amount: amount,\n    type: type,\n    borrowerName: truncateName(borrowerName),\n    stakerName: truncateName(stakerName)\n  });\n\n  if (!Icon || !text) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(TableRow, {\n    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        align: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          width: \"24px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          direction: \"vertical\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            as: \"p\",\n            ml: \"8px\",\n            grey: 700,\n            mb: 0,\n            children: text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Label, {\n            as: \"p\",\n            ml: \"8px\",\n            size: \"small\",\n            className: \"hide-gt-600\",\n            grey: 400,\n            children: formatDateTime(timestamp)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n      className: \"hide-lt-600\",\n      children: /*#__PURE__*/_jsxDEV(Label, {\n        as: \"p\",\n        size: \"small\",\n        grey: 400,\n        children: formatDateTime(timestamp)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n      align: \"right\",\n      children: amount && /*#__PURE__*/_jsxDEV(Text, {\n        grey: 700,\n        children: /*#__PURE__*/_jsxDEV(Dai, {\n          value: format(amount, 2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TransactionHistoryRow, \"13MIghrVvWxA7SoqJAKZve7HvJU=\", false, function () {\n  return [useWeb3React, usePublicData, usePublicData];\n});\n\n_c = TransactionHistoryRow;\n\nfunction TransactionHistorySkeletonRow() {\n  return /*#__PURE__*/_jsxDEV(TableRow, {\n    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        align: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n          shimmer: true,\n          variant: \"circle\",\n          size: 24,\n          grey: 200\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n          shimmer: true,\n          width: 60,\n          height: 10,\n          grey: 200,\n          ml: \"6px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n      children: /*#__PURE__*/_jsxDEV(Skeleton, {\n        shimmer: true,\n        width: 80,\n        height: 10,\n        grey: 200\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n      align: \"right\",\n      children: /*#__PURE__*/_jsxDEV(Skeleton, {\n        shimmer: true,\n        width: 30,\n        height: 10,\n        grey: 200\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = TransactionHistorySkeletonRow;\n\nfunction TransactionHistoryEmpty() {\n  return /*#__PURE__*/_jsxDEV(EmptyState, {\n    label: \"No transactions\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 10\n  }, this);\n}\n\n_c3 = TransactionHistoryEmpty;\nexport function TransactionHistory(_ref5) {\n  _s2();\n\n  var _this = this;\n\n  var data = _ref5.data;\n\n  var _usePagination = usePagination(data),\n      pagedData = _usePagination.data,\n      page = _usePagination.page,\n      maxPages = _usePagination.maxPages,\n      setPage = _usePagination.setPage;\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      disableCondensed: true,\n      children: [(data === null || data === void 0 ? void 0 : data.length) <= 0 && /*#__PURE__*/_jsxDEV(TransactionHistoryEmpty, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 31\n      }, this), pagedData.map(function (tx, i) {\n        return /*#__PURE__*/_jsxDEV(TransactionHistoryRow, _objectSpread({}, tx), i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, _this);\n      }), !data && createArray(3).map(function (_, i) {\n        return /*#__PURE__*/_jsxDEV(TransactionHistorySkeletonRow, {}, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, _this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      mt: \"24px\",\n      pages: maxPages,\n      activePage: page,\n      onClick: setPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(TransactionHistory, \"9Kw0SJO78+sjO82uxbSq4jQLeS4=\", false, function () {\n  return [usePagination];\n});\n\n_c4 = TransactionHistory;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"TransactionHistoryRow\");\n$RefreshReg$(_c2, \"TransactionHistorySkeletonRow\");\n$RefreshReg$(_c3, \"TransactionHistoryEmpty\");\n$RefreshReg$(_c4, \"TransactionHistory\");","map":{"version":3,"sources":["/Users/mathewstokes/Desktop/stats-app/components-ui/TransactionHistory.js"],"names":["Text","Table","TableCell","TableRow","Label","Box","Skeleton","Pagination","EmptyState","useWeb3React","Dai","usePagination","createArray","format","formatDateTime","truncateName","Borrow","Repayment","NewMember","NewVouch","NewVouchRecieved","CancelledVouch","TransactionTypes","usePublicData","icons","CANCEL","BORROW","REPAY","TRUST","TRUSTED","REGISTER","texts","borrowerName","stakerName","parseName","account","address","ENSName","toLowerCase","slice","TransactionHistoryRow","amount","type","timestamp","borrower","staker","borrowerENS","stakerENS","Icon","text","TransactionHistorySkeletonRow","TransactionHistoryEmpty","TransactionHistory","data","pagedData","page","maxPages","setPage","length","map","tx","i","_"],"mappings":"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","sourcesContent":["import {\n  Text,\n  Table,\n  TableCell,\n  TableRow,\n  Label,\n  Box,\n  Skeleton,\n  Pagination,\n  EmptyState,\n} from \"@unioncredit/ui\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { Dai } from \"components-ui\";\nimport usePagination from \"hooks/usePagination\";\nimport createArray from \"util/createArray\";\nimport format from \"util/formatValue\";\nimport formatDateTime from \"util/formatDateTime\";\nimport truncateName from \"util/truncateName\";\n\nimport Borrow from \"@unioncredit/ui/lib/icons/borrow.svg\";\nimport Repayment from \"@unioncredit/ui/lib/icons/repayment.svg\";\nimport NewMember from \"@unioncredit/ui/lib/icons/newMember.svg\";\nimport NewVouch from \"@unioncredit/ui/lib/icons/newVouch.svg\";\nimport NewVouchRecieved from \"@unioncredit/ui/lib/icons/newVouchRecieved.svg\";\nimport CancelledVouch from \"@unioncredit/ui/lib/icons/cancelVouch.svg\";\n\nimport { TransactionTypes } from \"constants/app\";\nimport usePublicData from \"hooks/usePublicData\";\n\nconst icons = {\n  [TransactionTypes.CANCEL]: CancelledVouch,\n  [TransactionTypes.BORROW]: Borrow,\n  [TransactionTypes.REPAY]: Repayment,\n  [TransactionTypes.TRUST]: NewVouch,\n  [TransactionTypes.TRUSTED]: NewVouchRecieved,\n  [TransactionTypes.REGISTER]: NewMember,\n};\n\nconst texts = {\n  [TransactionTypes.CANCEL]: ({ borrowerName }) => `Cancelled ${borrowerName}`,\n  [TransactionTypes.BORROW]: () => \"Borrow\",\n  [TransactionTypes.REPAY]: () => \"Repayment\",\n  [TransactionTypes.TRUST]: ({ borrowerName }) => `Trusted ${borrowerName}`,\n  [TransactionTypes.TRUSTED]: ({ stakerName }) => `Trusted by ${stakerName}`,\n  [TransactionTypes.REGISTER]: () => \"Became a member\",\n};\n\nconst parseName = (account, address, ENSName) => {\n  return account?.toLowerCase() === address?.toLowerCase()\n    ? \"You\"\n    : ENSName || address?.slice(0, 6);\n};\nfunction TransactionHistoryRow({ amount, type, timestamp, borrower, staker }) {\n  const { account } = useWeb3React();\n\n  const { ENSName: borrowerENS } = usePublicData(borrower);\n  const { ENSName: stakerENS } = usePublicData(staker);\n\n  const borrowerName = parseName(account, borrower, borrowerENS);\n  const stakerName = parseName(account, staker, stakerENS);\n\n  const Icon = icons[type];\n\n  const text = texts[type]?.({\n    amount,\n    type,\n    borrowerName: truncateName(borrowerName),\n    stakerName: truncateName(stakerName),\n  });\n\n  if (!Icon || !text) {\n    return null;\n  }\n\n  return (\n    <TableRow>\n      <TableCell>\n        <Box align=\"center\">\n          <Icon width=\"24px\" />\n          <Box direction=\"vertical\">\n            <Label as=\"p\" ml=\"8px\" grey={700} mb={0}>\n              {text}\n            </Label>\n            <Label\n              as=\"p\"\n              ml=\"8px\"\n              size=\"small\"\n              className=\"hide-gt-600\"\n              grey={400}\n            >\n              {formatDateTime(timestamp)}\n            </Label>\n          </Box>\n        </Box>\n      </TableCell>\n      <TableCell className=\"hide-lt-600\">\n        <Label as=\"p\" size=\"small\" grey={400}>\n          {formatDateTime(timestamp)}\n        </Label>\n      </TableCell>\n\n      <TableCell align=\"right\">\n        {amount && (\n          <Text grey={700}>\n            <Dai value={format(amount, 2)} />\n          </Text>\n        )}\n      </TableCell>\n    </TableRow>\n  );\n}\n\nfunction TransactionHistorySkeletonRow() {\n  return (\n    <TableRow>\n      <TableCell>\n        <Box align=\"center\">\n          <Skeleton shimmer variant=\"circle\" size={24} grey={200} />\n          <Skeleton shimmer width={60} height={10} grey={200} ml=\"6px\" />\n        </Box>\n      </TableCell>\n      <TableCell>\n        <Skeleton shimmer width={80} height={10} grey={200} />\n      </TableCell>\n      <TableCell align=\"right\">\n        <Skeleton shimmer width={30} height={10} grey={200} />\n      </TableCell>\n    </TableRow>\n  );\n}\n\nfunction TransactionHistoryEmpty() {\n  return <EmptyState label=\"No transactions\" />;\n}\n\nexport function TransactionHistory({ data }) {\n  const { data: pagedData, page, maxPages, setPage } = usePagination(data);\n\n  return (\n    <>\n      <Table disableCondensed>\n        {data?.length <= 0 && <TransactionHistoryEmpty />}\n\n        {pagedData.map((tx, i) => (\n          <TransactionHistoryRow key={i} {...tx} />\n        ))}\n\n        {!data &&\n          createArray(3).map((_, i) => (\n            <TransactionHistorySkeletonRow key={i} />\n          ))}\n      </Table>\n\n      <Pagination\n        mt=\"24px\"\n        pages={maxPages}\n        activePage={page}\n        onClick={setPage}\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}