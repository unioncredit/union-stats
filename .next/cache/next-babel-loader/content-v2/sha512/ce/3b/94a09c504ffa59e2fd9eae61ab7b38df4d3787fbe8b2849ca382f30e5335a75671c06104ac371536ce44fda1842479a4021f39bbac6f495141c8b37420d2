{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mathewstokes/Desktop/stats-app/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mathewstokes/Desktop/stats-app/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport { Contract } from \"@ethersproject/contracts\";\nimport useCurrentToken from \"hooks/useCurrentToken\";\nimport { useCallback } from \"react\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport USER_MANAGER_ABI from \"constants/abis/userManager.json\";\nimport useMarketRegistryContract from \"../contracts/useMarketRegistryContract\";\nexport default function useWithdrawRewards() {\n  _s();\n\n  var _useWeb3React = useWeb3React(),\n      library = _useWeb3React.library;\n\n  var tokenAddress = useCurrentToken();\n  var marketRegistryContract = useMarketRegistryContract();\n  return useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var signer, res, userManagerAddress, userManagerContract;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            signer = library.getSigner();\n            _context.next = 3;\n            return marketRegistryContract.tokens(tokenAddress);\n\n          case 3:\n            res = _context.sent;\n            userManagerAddress = res.userManager;\n            userManagerContract = new Contract(userManagerAddress, USER_MANAGER_ABI, signer);\n            return _context.abrupt(\"return\", userManagerContract.withdrawRewards());\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [library, tokenAddress, marketRegistryContract]);\n}\n\n_s(useWithdrawRewards, \"7nEg0hggtt3ZnuPvuQg+Fh0K4Dw=\", false, function () {\n  return [useWeb3React, useCurrentToken, useMarketRegistryContract];\n});","map":{"version":3,"sources":["/Users/mathewstokes/Desktop/stats-app/hooks/payables/useWithdrawRewards.ts"],"names":["Contract","useCurrentToken","useCallback","useWeb3React","USER_MANAGER_ABI","useMarketRegistryContract","useWithdrawRewards","library","tokenAddress","marketRegistryContract","signer","getSigner","tokens","res","userManagerAddress","userManager","userManagerContract","withdrawRewards"],"mappings":";;;;;AACA,SAASA,QAAT,QAAyB,0BAAzB;AACA,OAAOC,eAAP,MAA4B,uBAA5B;AACA,SAASC,WAAT,QAA4B,OAA5B;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,yBAAP,MAAsC,wCAAtC;AAEA,eAAe,SAASC,kBAAT,GAA8B;AAAA;;AAAA,sBACvBH,YAAY,EADW;AAAA,MACnCI,OADmC,iBACnCA,OADmC;;AAE3C,MAAMC,YAAY,GAAGP,eAAe,EAApC;AACA,MAAMQ,sBAAsB,GAAGJ,yBAAyB,EAAxD;AAEA,SAAOH,WAAW,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AACXQ,YAAAA,MADW,GACFH,OAAO,CAACI,SAAR,EADE;AAAA;AAAA,mBAECF,sBAAsB,CAACG,MAAvB,CAA8BJ,YAA9B,CAFD;;AAAA;AAEXK,YAAAA,GAFW;AAGXC,YAAAA,kBAHW,GAGUD,GAAG,CAACE,WAHd;AAIXC,YAAAA,mBAJW,GAIW,IAAIhB,QAAJ,CAC1Bc,kBAD0B,EAE1BV,gBAF0B,EAG1BM,MAH0B,CAJX;AAAA,6CAUVM,mBAAmB,CAACC,eAApB,EAVU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAWf,CAACV,OAAD,EAAUC,YAAV,EAAwBC,sBAAxB,CAXe,CAAlB;AAYD;;GAjBuBH,kB;UACFH,Y,EACCF,e,EACUI,yB","sourcesContent":["import type { TransactionResponse } from \"@ethersproject/providers\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport useCurrentToken from \"hooks/useCurrentToken\";\nimport { useCallback } from \"react\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport USER_MANAGER_ABI from \"constants/abis/userManager.json\";\nimport useMarketRegistryContract from \"../contracts/useMarketRegistryContract\";\n\nexport default function useWithdrawRewards() {\n  const { library } = useWeb3React();\n  const tokenAddress = useCurrentToken();\n  const marketRegistryContract = useMarketRegistryContract();\n\n  return useCallback(async (): Promise<TransactionResponse> => {\n    const signer = library.getSigner();\n    const res = await marketRegistryContract.tokens(tokenAddress);\n    const userManagerAddress = res.userManager;\n    const userManagerContract = new Contract(\n      userManagerAddress,\n      USER_MANAGER_ABI,\n      signer\n    );\n\n    return userManagerContract.withdrawRewards();\n  }, [library, tokenAddress, marketRegistryContract]);\n}\n"]},"metadata":{},"sourceType":"module"}