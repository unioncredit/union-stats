{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mathewstokes/Desktop/stats-app/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mathewstokes/Desktop/stats-app/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nexport default function getDateFromBlock(_x, _x2, _x3) {\n  return _getDateFromBlock.apply(this, arguments);\n}\n\nfunction _getDateFromBlock() {\n  _getDateFromBlock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(library, block, blockspeed) {\n    var currentBlockNumber, blockObj, currentBlock, secondsDay, blockPerDay, blockDelta, timestampDelta;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return library.getBlockNumber();\n\n          case 2:\n            currentBlockNumber = _context.sent;\n\n            if (!(block <= currentBlockNumber)) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 6;\n            return library.getBlock(block);\n\n          case 6:\n            blockObj = _context.sent;\n            return _context.abrupt(\"return\", blockObj.timestamp);\n\n          case 8:\n            _context.next = 10;\n            return library.getBlock(currentBlockNumber);\n\n          case 10:\n            currentBlock = _context.sent;\n            secondsDay = 60 * 60 * 24; // 86400\n\n            blockPerDay = secondsDay / blockspeed;\n            blockDelta = block - currentBlockNumber;\n            timestampDelta = blockDelta / blockPerDay * secondsDay;\n            return _context.abrupt(\"return\", currentBlock.timestamp + timestampDelta);\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getDateFromBlock.apply(this, arguments);\n}","map":{"version":3,"sources":["/Users/mathewstokes/Desktop/stats-app/util/getDateFromBlock.js"],"names":["getDateFromBlock","library","block","blockspeed","getBlockNumber","currentBlockNumber","getBlock","blockObj","timestamp","currentBlock","secondsDay","blockPerDay","blockDelta","timestampDelta"],"mappings":";;AAAA,wBAA8BA,gBAA9B;AAAA;AAAA;;;+EAAe,iBAAgCC,OAAhC,EAAyCC,KAAzC,EAAgDC,UAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACoBF,OAAO,CAACG,cAAR,EADpB;;AAAA;AACPC,YAAAA,kBADO;;AAAA,kBAGTH,KAAK,IAAIG,kBAHA;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIYJ,OAAO,CAACK,QAAR,CAAiBJ,KAAjB,CAJZ;;AAAA;AAILK,YAAAA,QAJK;AAAA,6CAKJA,QAAQ,CAACC,SALL;;AAAA;AAAA;AAAA,mBAQcP,OAAO,CAACK,QAAR,CAAiBD,kBAAjB,CARd;;AAAA;AAQPI,YAAAA,YARO;AASPC,YAAAA,UATO,GASM,KAAK,EAAL,GAAU,EAThB,EASoB;;AAC3BC,YAAAA,WAVO,GAUOD,UAAU,GAAGP,UAVpB;AAWPS,YAAAA,UAXO,GAWMV,KAAK,GAAGG,kBAXd;AAYPQ,YAAAA,cAZO,GAYWD,UAAU,GAAGD,WAAd,GAA6BD,UAZvC;AAAA,6CAaND,YAAY,CAACD,SAAb,GAAyBK,cAbnB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["export default async function getDateFromBlock(library, block, blockspeed) {\n  const currentBlockNumber = await library.getBlockNumber();\n\n  if (block <= currentBlockNumber) {\n    const blockObj = await library.getBlock(block);\n    return blockObj.timestamp;\n  }\n\n  const currentBlock = await library.getBlock(currentBlockNumber);\n  const secondsDay = 60 * 60 * 24; // 86400\n  const blockPerDay = secondsDay / blockspeed;\n  const blockDelta = block - currentBlockNumber;\n  const timestampDelta = (blockDelta / blockPerDay) * secondsDay;\n  return currentBlock.timestamp + timestampDelta;\n}\n"]},"metadata":{},"sourceType":"module"}