import {Link, useLocation} from "react-router-dom";
import {ContextMenu} from "@unioncredit/ui";

import {contextMenuItems} from "constants/app";
import {ContextMenuLink} from "./ContextMenuLink";

import styles from "./Navigation.module.css";

const contextMenuItemsLink = contextMenuItems.map((item) => {
  if (item.href.startsWith("/")) {
    return { ...item, as: ContextMenuLink };
  }
  return item;
});

const navLinks = [
  { title: "Protocol", path: "/", src: "/images/icon-protocol.svg" },
  { title: "Members", path: "/members", src: "/images/icon-member.svg" },
];

export const Navigation = () => {
  const router = useLocation();

  return (
    <nav>
      <div className={styles.navInnerWrapper}>
        <div className="nav-logo">
          <a href={"/"}>
            <div>
              <svg
                width="75"
                height="33"
                viewBox="0 0 75 33"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6 9V9C6 8.53534 6 8.30302 6.03843 8.10982C6.19624 7.31644 6.81644 6.69624 7.60982 6.53843C7.80302 6.5 8.03534 6.5 8.5 6.5H12V7.3C12 8.42011 12 8.98016 11.782 9.40798C11.5903 9.78431 11.2843 10.0903 10.908 10.282C10.4802 10.5 9.9201 10.5 8.8 10.5H6H5.2C4.07989 10.5 3.51984 10.5 3.09202 10.718C2.71569 10.9097 2.40973 11.2157 2.21799 11.592C2 12.0198 2 12.5799 2 13.7V16.5H2.8C3.92011 16.5 4.48016 16.5 4.90798 16.282C5.28431 16.0903 5.59027 15.7843 5.78201 15.408C6 14.9802 6 14.4201 6 13.3V12"
                  stroke="#3A3842"
                  strokeWidth="2"
                />
                <path
                  d="M19.5 10.5V10.5C19.9647 10.5 20.197 10.5 20.3902 10.5384C21.1836 10.6962 21.8038 11.3164 21.9616 12.1098C22 12.303 22 12.5353 22 13L22 16.5L21.2 16.5C20.0799 16.5 19.5198 16.5 19.092 16.282C18.7157 16.0903 18.4097 15.7843 18.218 15.408C18 14.9802 18 14.4201 18 13.3L18 10.5L18 9.7C18 8.57989 18 8.01984 17.782 7.59202C17.5903 7.21569 17.2843 6.90973 16.908 6.71799C16.4802 6.5 15.9201 6.5 14.8 6.5L12 6.5L12 7.3C12 8.4201 12 8.98016 12.218 9.40798C12.4097 9.7843 12.7157 10.0903 13.092 10.282C13.5198 10.5 14.0799 10.5 15.2 10.5L16.5 10.5"
                  stroke="#3A3842"
                  strokeWidth="2"
                />
                <path
                  d="M18 24V24C18 24.4647 18 24.697 17.9616 24.8902C17.8038 25.6836 17.1836 26.3038 16.3902 26.4616C16.197 26.5 15.9647 26.5 15.5 26.5L12 26.5L12 25.7C12 24.5799 12 24.0198 12.218 23.592C12.4097 23.2157 12.7157 22.9097 13.092 22.718C13.5198 22.5 14.0799 22.5 15.2 22.5L18 22.5L18.8 22.5C19.9201 22.5 20.4802 22.5 20.908 22.282C21.2843 22.0903 21.5903 21.7843 21.782 21.408C22 20.9802 22 20.4201 22 19.3L22 16.5L21.2 16.5C20.0799 16.5 19.5198 16.5 19.092 16.718C18.7157 16.9097 18.4097 17.2157 18.218 17.592C18 18.0198 18 18.5799 18 19.7L18 21"
                  stroke="#3A3842"
                  strokeWidth="2"
                />
                <path
                  d="M4.5 22.5V22.5C4.03534 22.5 3.80302 22.5 3.60982 22.4616C2.81644 22.3038 2.19624 21.6836 2.03843 20.8902C2 20.697 2 20.4647 2 20L2 16.5L2.8 16.5C3.9201 16.5 4.48016 16.5 4.90798 16.718C5.2843 16.9097 5.59027 17.2157 5.78201 17.592C6 18.0198 6 18.5799 6 19.7L6 22.5L6 23.3C6 24.4201 6 24.9802 6.21799 25.408C6.40973 25.7843 6.71569 26.0903 7.09202 26.282C7.51984 26.5 8.07989 26.5 9.2 26.5L12 26.5L12 25.7C12 24.5799 12 24.0198 11.782 23.592C11.5903 23.2157 11.2843 22.9097 10.908 22.718C10.4802 22.5 9.9201 22.5 8.8 22.5L7.5 22.5"
                  stroke="#3A3842"
                  strokeWidth="2"
                />
                <path d="M32 4.5L32 28.5" stroke="#E7E5E4" />
                <path
                  d="M45.0455 22.5H41.2784V10.8636H45.1648C46.3049 10.8636 47.2841 11.0966 48.1023 11.5625C48.9205 12.0246 49.5473 12.6894 49.983 13.5568C50.4223 14.4205 50.642 15.4564 50.642 16.6648C50.642 17.8769 50.4205 18.9186 49.9773 19.7898C49.5379 20.661 48.9015 21.3314 48.0682 21.8011C47.2348 22.267 46.2273 22.5 45.0455 22.5ZM43.0341 20.9659H44.9489C45.8352 20.9659 46.572 20.7992 47.1591 20.4659C47.7462 20.1288 48.1856 19.642 48.4773 19.0057C48.7689 18.3655 48.9148 17.5852 48.9148 16.6648C48.9148 15.7519 48.7689 14.9773 48.4773 14.3409C48.1894 13.7045 47.7595 13.2216 47.1875 12.892C46.6155 12.5625 45.9053 12.3977 45.0568 12.3977H43.0341V20.9659ZM54.9087 22.6932C54.3557 22.6932 53.8557 22.5909 53.4087 22.3864C52.9617 22.178 52.6076 21.8769 52.3462 21.483C52.0886 21.089 51.9598 20.6061 51.9598 20.0341C51.9598 19.5417 52.0545 19.1364 52.2439 18.8182C52.4333 18.5 52.689 18.2481 53.011 18.0625C53.3329 17.8769 53.6928 17.7367 54.0905 17.642C54.4882 17.5473 54.8935 17.4754 55.3064 17.4261C55.8291 17.3655 56.2534 17.3163 56.5791 17.2784C56.9049 17.2367 57.1416 17.1705 57.2894 17.0795C57.4371 16.9886 57.511 16.8409 57.511 16.6364V16.5966C57.511 16.1004 57.3708 15.7159 57.0905 15.4432C56.814 15.1705 56.4011 15.0341 55.8519 15.0341C55.2799 15.0341 54.8291 15.161 54.4996 15.4148C54.1738 15.6648 53.9485 15.9432 53.8235 16.25L52.2269 15.8864C52.4163 15.3561 52.6928 14.928 53.0564 14.6023C53.4238 14.2727 53.8462 14.0341 54.3235 13.8864C54.8007 13.7348 55.3026 13.6591 55.8291 13.6591C56.1776 13.6591 56.547 13.7008 56.9371 13.7841C57.331 13.8636 57.6985 14.0114 58.0394 14.2273C58.3841 14.4432 58.6663 14.7519 58.886 15.1534C59.1057 15.5511 59.2155 16.0682 59.2155 16.7045V22.5H57.5564V21.3068H57.4882C57.3784 21.5265 57.2136 21.7424 56.9939 21.9545C56.7742 22.1667 56.492 22.3428 56.1473 22.483C55.8026 22.6231 55.3898 22.6932 54.9087 22.6932ZM55.278 21.3295C55.7477 21.3295 56.1492 21.2367 56.4826 21.0511C56.8197 20.8655 57.0754 20.6231 57.2496 20.3239C57.4276 20.0208 57.5166 19.697 57.5166 19.3523V18.2273C57.456 18.2879 57.3386 18.3447 57.1644 18.3977C56.9939 18.447 56.7988 18.4905 56.5791 18.5284C56.3595 18.5625 56.1454 18.5947 55.9371 18.625C55.7288 18.6515 55.5545 18.6742 55.4144 18.6932C55.0848 18.7348 54.7837 18.8049 54.511 18.9034C54.242 19.0019 54.0261 19.1439 53.8632 19.3295C53.7041 19.5114 53.6246 19.7538 53.6246 20.0568C53.6246 20.4773 53.7799 20.7955 54.0905 21.0114C54.4011 21.2235 54.797 21.3295 55.278 21.3295ZM65.2322 13.7727V15.1364H60.4651V13.7727H65.2322ZM61.7435 11.6818H63.4424V19.9375C63.4424 20.267 63.4916 20.5152 63.5901 20.6818C63.6886 20.8447 63.8155 20.9564 63.9708 21.017C64.1299 21.0739 64.3022 21.1023 64.4878 21.1023C64.6242 21.1023 64.7435 21.0928 64.8458 21.0739C64.9481 21.0549 65.0276 21.0398 65.0844 21.0284L65.3913 22.4318C65.2928 22.4697 65.1526 22.5076 64.9708 22.5455C64.789 22.5871 64.5617 22.6098 64.289 22.6136C63.842 22.6212 63.4253 22.5417 63.039 22.375C62.6526 22.2083 62.3401 21.9508 62.1015 21.6023C61.8628 21.2538 61.7435 20.8163 61.7435 20.2898V11.6818ZM69.3312 22.6932C68.7782 22.6932 68.2782 22.5909 67.8312 22.3864C67.3842 22.178 67.0301 21.8769 66.7687 21.483C66.5111 21.089 66.3823 20.6061 66.3823 20.0341C66.3823 19.5417 66.477 19.1364 66.6664 18.8182C66.8558 18.5 67.1115 18.2481 67.4335 18.0625C67.7554 17.8769 68.1153 17.7367 68.513 17.642C68.9107 17.5473 69.316 17.4754 69.7289 17.4261C70.2516 17.3655 70.6759 17.3163 71.0016 17.2784C71.3274 17.2367 71.5641 17.1705 71.7119 17.0795C71.8596 16.9886 71.9335 16.8409 71.9335 16.6364V16.5966C71.9335 16.1004 71.7933 15.7159 71.513 15.4432C71.2365 15.1705 70.8236 15.0341 70.2744 15.0341C69.7024 15.0341 69.2516 15.161 68.9221 15.4148C68.5963 15.6648 68.371 15.9432 68.246 16.25L66.6494 15.8864C66.8388 15.3561 67.1153 14.928 67.4789 14.6023C67.8463 14.2727 68.2687 14.0341 68.746 13.8864C69.2232 13.7348 69.7251 13.6591 70.2516 13.6591C70.6001 13.6591 70.9695 13.7008 71.3596 13.7841C71.7535 13.8636 72.121 14.0114 72.4619 14.2273C72.8066 14.4432 73.0888 14.7519 73.3085 15.1534C73.5282 15.5511 73.638 16.0682 73.638 16.7045V22.5H71.9789V21.3068H71.9107C71.8009 21.5265 71.6361 21.7424 71.4164 21.9545C71.1967 22.1667 70.9145 22.3428 70.5698 22.483C70.2251 22.6231 69.8123 22.6932 69.3312 22.6932ZM69.7005 21.3295C70.1702 21.3295 70.5717 21.2367 70.9051 21.0511C71.2422 20.8655 71.4979 20.6231 71.6721 20.3239C71.8501 20.0208 71.9391 19.697 71.9391 19.3523V18.2273C71.8785 18.2879 71.7611 18.3447 71.5869 18.3977C71.4164 18.447 71.2213 18.4905 71.0016 18.5284C70.782 18.5625 70.5679 18.5947 70.3596 18.625C70.1513 18.6515 69.977 18.6742 69.8369 18.6932C69.5073 18.7348 69.2062 18.8049 68.9335 18.9034C68.6645 19.0019 68.4486 19.1439 68.2857 19.3295C68.1266 19.5114 68.0471 19.7538 68.0471 20.0568C68.0471 20.4773 68.2024 20.7955 68.513 21.0114C68.8236 21.2235 69.2195 21.3295 69.7005 21.3295Z"
                  fill="#44403C"
                />
              </svg>
            </div>
          </a>
        </div>

        <div className={styles.navLinkWrapper}>
          {navLinks.slice(0, 1).map((link) => (
            <Link key={link.title} to={link.path}>
              <a className={router.pathname == link.path ? "active" : ""}>
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M4 13C4 12.7348 4.10536 12.4804 4.29289 12.2929C4.48043 12.1054 4.73478 12 5 12H7C7.26522 12 7.51957 12.1054 7.70711 12.2929C7.89464 12.4804 8 12.7348 8 13V18C8 18.2652 7.89464 18.5196 7.70711 18.7071C7.51957 18.8946 7.26522 19 7 19H5C4.73478 19 4.48043 18.8946 4.29289 18.7071C4.10536 18.5196 4 18.2652 4 18V13ZM10 9C10 8.73478 10.1054 8.48043 10.2929 8.29289C10.4804 8.10536 10.7348 8 11 8H13C13.2652 8 13.5196 8.10536 13.7071 8.29289C13.8946 8.48043 14 8.73478 14 9V18C14 18.2652 13.8946 18.5196 13.7071 18.7071C13.5196 18.8946 13.2652 19 13 19H11C10.7348 19 10.4804 18.8946 10.2929 18.7071C10.1054 18.5196 10 18.2652 10 18V9ZM16 6C16 5.73478 16.1054 5.48043 16.2929 5.29289C16.4804 5.10536 16.7348 5 17 5H19C19.2652 5 19.5196 5.10536 19.7071 5.29289C19.8946 5.48043 20 5.73478 20 6V18C20 18.2652 19.8946 18.5196 19.7071 18.7071C19.5196 18.8946 19.2652 19 19 19H17C16.7348 19 16.4804 18.8946 16.2929 18.7071C16.1054 18.5196 16 18.2652 16 18V6Z"
                    fill="#A8A29E"
                  />
                </svg>
                <span>{link.title}</span>
              </a>
            </Link>
          ))}

          {navLinks.slice(1, 2).map((link) => (
            <Link key={link.title} to={link.path}>
              <a className={router.pathname == link.path ? "active" : ""}>
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M11 8C11 8.79565 10.6839 9.55871 10.1213 10.1213C9.55871 10.6839 8.79565 11 8 11C7.20435 11 6.44129 10.6839 5.87868 10.1213C5.31607 9.55871 5 8.79565 5 8C5 7.20435 5.31607 6.44129 5.87868 5.87868C6.44129 5.31607 7.20435 5 8 5C8.79565 5 9.55871 5.31607 10.1213 5.87868C10.6839 6.44129 11 7.20435 11 8ZM19 8C19 8.39397 18.9224 8.78407 18.7716 9.14805C18.6209 9.51203 18.3999 9.84274 18.1213 10.1213C17.8427 10.3999 17.512 10.6209 17.1481 10.7716C16.7841 10.9224 16.394 11 16 11C15.606 11 15.2159 10.9224 14.8519 10.7716C14.488 10.6209 14.1573 10.3999 13.8787 10.1213C13.6001 9.84274 13.3791 9.51203 13.2284 9.14805C13.0776 8.78407 13 8.39397 13 8C13 7.20435 13.3161 6.44129 13.8787 5.87868C14.4413 5.31607 15.2044 5 16 5C16.7956 5 17.5587 5.31607 18.1213 5.87868C18.6839 6.44129 19 7.20435 19 8ZM14.93 19C14.976 18.673 15 18.34 15 18C15.0023 16.4289 14.4737 14.903 13.5 13.67C14.2601 13.2312 15.1223 13.0001 16 13.0001C16.8776 13.0001 17.7399 13.2311 18.4999 13.67C19.26 14.1088 19.8912 14.74 20.3301 15.5C20.7689 16.2601 21 17.1223 21 18V19H14.93ZM8 13C9.32608 13 10.5979 13.5268 11.5355 14.4645C12.4732 15.4021 13 16.6739 13 18V19H3V18C3 16.6739 3.52678 15.4021 4.46447 14.4645C5.40215 13.5268 6.67392 13 8 13Z"
                    fill="#A8A29E"
                  />
                </svg>
                <span>{link.title}</span>
              </a>
            </Link>
          ))}
        </div>

        <ContextMenu position="left" items={contextMenuItemsLink} />
      </div>
    </nav>
  );
};
